---
import Layout from "../layouts/Layout.astro";
import TrustBar from "../components/TrustBar.jsx";
import Testimonials from "../components/Testimonials.jsx";
import FAQ from "../components/FAQ.jsx";
import FeatureSection from "../components/FeatureSection.jsx";
import ProcessFlow from "../components/ProcessFlow.jsx";
import {
	TreePine,
	Scissors,
	ShieldAlert,
	FileText,
	CheckCircle,
	Axe,
} from "lucide-react";
import ServiceAreaMap from "../components/ServiceAreaMap.jsx";

const serviceFeatures = [
	{
		title: "Crown Reduction & Thinning",
		desc: "Scientifically reducing the canopy size to allow light while maintaining the tree's health and shape.",
		icon: Scissors,
	},
	{
		title: "Sectional Felling",
		desc: "Removing dangerous trees in confined spaces using advanced rigging to protect your property.",
		icon: TreePine,
	},
	{
		title: "Stump Grinding",
		desc: "Removal of stumps 30cm below ground level, making the area ready for replanting or turfing.",
		icon: ShieldAlert,
	},
];
---

<Layout title="Royal Oak | Expert Tree Surgery & Arboriculture">
	<main class="relative isolate overflow-hidden bg-white">
		<!-- Hero Section -->
		<div class="relative h-screen w-full overflow-hidden">
			<img
				src="/hero.png"
				alt="Tree surgeon working safely"
				class="absolute inset-0 -z-10 h-full w-full object-cover object-center brightness-[0.7]"
			/>
			<div class="absolute inset-0 bg-green-950/20 -z-10"></div>

			<div
				class="mx-auto max-w-7xl px-6 lg:px-8 h-full flex flex-col justify-center relative z-10"
			>
				<div class="max-w-3xl animate-fade-in-up">
					<div class="hidden sm:mb-8 sm:flex">
						<div
							class="relative rounded-full px-3 py-1 text-sm leading-6 text-green-300 ring-1 ring-green-500/50 hover:ring-green-500/70 transition-all uppercase tracking-wide font-bold bg-green-900/40 backdrop-blur-sm"
						>
							NPTC Qualified Specialists
						</div>
					</div>
					<h1
						class="text-4xl font-header font-bold tracking-tight text-white sm:text-7xl mb-6 drop-shadow-sm"
					>
						Arboricultural <br />
						<span class="text-green-300">Excellence.</span>
					</h1>
					<p
						class="mt-6 text-xl leading-8 text-green-50 drop-shadow-sm max-w-2xl font-body"
					>
						Merging technical precision with environmental
						stewardship. We provide certified tree surgery, crown
						reductions, and TPO management for heritage landscapes.
					</p>
					<div class="mt-10 flex flex-wrap items-center gap-6">
						<a
							href="/contact"
							class="rounded-md bg-green-700 px-8 py-3.5 text-lg font-bold text-white shadow-lg hover:bg-green-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600 transition-all duration-300 scale-100 hover:scale-105"
						>
							Request Tree Assessment
						</a>
						<a
							href="/services"
							class="rounded-md bg-white/10 backdrop-blur-sm border border-white/20 px-8 py-3.5 text-lg font-semibold text-white hover:bg-white hover:text-green-900 transition-all duration-300"
						>
							Our Services <span aria-hidden="true">→</span>
						</a>
					</div>
				</div>
			</div>
		</div>

		<!-- TrustBar -->
		<div class="relative z-20 bg-white border-b border-gray-100">
			<TrustBar client:visible />
		</div>

		<!-- Philosophy Section -->
		<div class="bg-stone-50 py-24 sm:py-32">
			<div class="mx-auto max-w-7xl px-6 lg:px-8">
				<div class="mx-auto max-w-2xl text-center">
					<h2
						class="text-base font-semibold leading-7 text-green-700 uppercase tracking-widest"
					>
						Our Philosophy
					</h2>
					<p
						class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl font-serif"
					>
						We Are Arborists, Not Just Cutters.
					</p>
					<p class="mt-6 text-lg leading-8 text-gray-600">
						Trees are valuable assets. Poor pruning can kill a tree
						or make it dangerous. At Royal Oak, we understand tree
						biology. We assess the health, structure, and species of
						every tree before we make a cut, ensuring we leave your
						garden safer and more beautiful.
					</p>
				</div>
			</div>
		</div>

		<!-- Services Section -->
		<FeatureSection
			client:visible
			title="Precision Tree Management"
			subtitle="Technical Excellence"
			description="We specialise in the difficult jobs. Whether it's a TPO-protected Oak or a dangerous removal over a conservatory, we have the skills and equipment to handle it safely."
			features={serviceFeatures}
			imageSrc="/hero.png"
			align="left"
			quote={null}
			author={null}
		/>

		<!-- The Paperwork Feature (Key Differentiator) -->
		<div class="py-24 bg-green-900 relative overflow-hidden text-white">
			<div class="mx-auto max-w-7xl px-6 lg:px-8 relative z-10">
				<div class="lg:grid lg:grid-cols-2 lg:gap-16 items-center">
					<div>
						<h2
							class="text-3xl font-bold tracking-tight text-white sm:text-4xl mb-6 font-serif"
						>
							We Handle the Council for You
						</h2>
						<p class="text-lg text-green-100 mb-8">
							Living in a Conservation Area? Does your tree have a
							TPO? Checking legal status is critical to avoid
							fines up to £20,000.
						</p>
						<ul class="space-y-6">
							<li class="flex gap-4">
								<div
									class="mt-1 flex h-10 w-10 flex-none items-center justify-center rounded-lg bg-green-800 border border-green-700"
								>
									<CheckCircle
										className="h-6 w-6 text-green-400"
									/>
								</div>
								<div>
									<h3 class="font-bold text-white">
										Status Checks
									</h3>
									<p class="text-sm text-green-200">
										We check the legal status of your trees
										before booking any work.
									</p>
								</div>
							</li>
							<li class="flex gap-4">
								<div
									class="mt-1 flex h-10 w-10 flex-none items-center justify-center rounded-lg bg-green-800 border border-green-700"
								>
									<FileText
										className="h-6 w-6 text-green-400"
									/>
								</div>
								<div>
									<h3 class="font-bold text-white">
										Full Applications
									</h3>
									<p class="text-sm text-green-200">
										We submit the technical planning
										applications to the local authority on
										your behalf.
									</p>
								</div>
							</li>
							<li class="flex gap-4">
								<div
									class="mt-1 flex h-10 w-10 flex-none items-center justify-center rounded-lg bg-green-800 border border-green-700"
								>
									<ShieldAlert
										className="h-6 w-6 text-green-400"
									/>
								</div>
								<div>
									<h3 class="font-bold text-white">
										100% Compliance
									</h3>
									<p class="text-sm text-green-200">
										All work is carried out strictly in
										accordance with approved BS3998
										specifications.
									</p>
								</div>
							</li>
						</ul>
						<div class="mt-10">
							<a
								href="/contact"
								class="text-sm font-semibold leading-6 text-green-400 hover:text-green-300"
								>Check Your Tree Status <span aria-hidden="true"
									>→</span
								></a
							>
						</div>
					</div>
					<div class="mt-12 lg:mt-0 opacity-80 mix-blend-soft-light">
						<!-- Abstract illustration or icon representing paperwork/legal safety -->
						<FileText size={400} strokeWidth={0.5} />
					</div>
				</div>
			</div>
		</div>

		<!-- Process Section -->
		<FeatureSection
			client:load
			title="Tree Care Services"
			subtitle="Comprehensive Management"
			description="From pruning to felling, we handle it all with precision and care for the environment."
			imageSrc="/hero.png"
			align="right"
			quote={null}
			author={null}
			features={[
				{
					title: "Crown Reduction",
					desc: "Reduce height and spread safely.",
					icon: TreePine,
				},
				{
					title: "Felling",
					desc: "Safe removal of dangerous trees.",
					icon: Axe,
				},
				{
					title: "TPO Works",
					desc: "We handle planning permission.",
					icon: FileText,
				},
				{
					title: "Stump Grinding",
					desc: "Complete removal of tree stumps.",
					icon: TreePine,
				},
			]}
		/>
		<ProcessFlow
			client:visible
			title="Safety Standards You Can Rely On"
			subtitle="Our Process"
			steps={[
				{
					title: "Site Survey",
					desc: "We assess tree health and identify targets (buildings/glass) below.",
					icon: FileText,
				},
				{
					title: "Risk Assessment",
					desc: "You receive a fixed quote and method statement for safe execution.",
					icon: ShieldAlert,
				},
				{
					title: "The Climb",
					desc: "NPTC-certified climbers execute the work using rope access techniques.",
					icon: TreePine,
				},
				{
					title: "Green Disposal",
					desc: "All waste is chipped for biomass, leaving your garden spotless.",
					icon: CheckCircle,
				},
			]}
		/>

		<Testimonials
			client:visible
			reviews={[
				{
					text: "We had a huge Ash tree taken down over our greenhouse. The team used ropes to lower every branch. Nothing was damaged, and they even swept the driveway.",
					author: "The Harrison Family",
					location: "Richmond",
					role: "Sectional Felling",
					rating: 5,
				},
				{
					text: "Another company wanted to chop it down. Royal Oak suggested a crown thin and dead-wooding. The tree looks healthier than ever and we get to keep our shade.",
					author: "Mr. T. Clarke",
					location: "Wimbledon",
					role: "Tree Preservation",
					rating: 5,
				},
				{
					text: "They handled the council application for our TPO tree completely. Very professional and knowledgeable.",
					author: "Sarah J.",
					location: "Kew",
					role: "TPO Management",
					rating: 5,
				},
			]}
		/>

		<!-- CTA Section -->
		<div class="bg-stone-100 py-16 sm:py-24" id="contact">
			<div class="mx-auto max-w-7xl px-6 lg:px-8">
				<div class="mx-auto max-w-2xl text-center">
					<h2
						class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl font-serif"
					>
						Concerned About a Tree?
					</h2>
					<p
						class="mx-auto mt-6 max-w-xl text-lg leading-8 text-gray-600"
					>
						Don't wait until it becomes a hazard. Book a free visual
						health assessment with our qualified arborists.
					</p>
					<div class="mt-10 flex justify-center gap-x-6">
						<a
							href="/contact"
							class="rounded-md bg-green-700 px-8 py-3.5 text-lg font-bold text-white shadow-xl hover:bg-green-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600 transition-all"
							>Book Assessment</a
						>
					</div>
				</div>
			</div>
		</div>

		<!-- Service Area Map Section -->
		<div class="py-24 bg-stone-50">
			<div class="mx-auto max-w-7xl px-6 lg:px-8">
				<div class="mx-auto max-w-2xl text-center mb-16">
					<h2
						class="text-base font-semibold leading-7 text-green-700 uppercase tracking-widest"
					>
						Coverage
					</h2>
					<p
						class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl font-serif"
					>
						Areas We Serve
					</p>
					<p class="mt-4 text-lg text-gray-600">
						Providing tree surgery services across Richmond, Kew,
						and Wimbledon.
					</p>
				</div>
				<ServiceAreaMap
					client:only="react"
					center={[51.4485, -0.2917]}
					city="Richmond & South West London"
					radiusMiles={20}
				/>
			</div>
		</div>

		<FAQ client:visible />
	</main>
</Layout>
